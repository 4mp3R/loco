<div class="page">
    <div class="container page-content">

        <h1 class="page-heading">Utenti</h1>

        <div class="grid">
            <div class="col-1-1">
                <p class="alert alert-info">Da questa pagina Ã¨ possibile creare nuovi utenti manualmente, oppure aggiornare o cancellare quelli esistenti.</p>
            </div>
        </div>

        <div class="grid">

            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Avatar</th>
                        <th>Username</th>
                        <th>Email</th>
                        <th>Nome</th>
                        <th>Sesso</th>
                        <th>Ruolo</th>
                        <th>Telefono</th>
                        <th>Azioni</th>
                    </tr>
                </thead>
                <tbody>
                    <?php foreach($this->allProfiles as $profile): ?>
                        <tr>
                            <td><img class="profile" src="data:image/jpeg;base64,<?php echo base64_encode($profile->profile_image); ?>" /></td>
                            <td><a href="
                                <?= $this->url(array(
                                    'controller' => 'user',
                                    'action' => 'profile-view',
                                    'username' => $profile->username
                                ), 'default', true) ?>
                            "><?= $profile->username; ?></a></td>
                            <td><?= $profile->email; ?></td>
                            <td><?= $profile->name; ?> <?= $profile->surname; ?></td>
                            <td><?= $profile->sex; ?></td>
                            <td><?= $profile->role; ?></td>
                            <td><?= $profile->phone; ?></td>
                            <td>
                                <a class="button" href="
                                    <?= $this->url(array(
                                    'controller' => 'user',
                                    'action' => 'profile-edit',
                                    'username' => $profile->username
                                ), 'default', true); ?>
                                ">Edita</a>
                                <a class="button button-danger" href="
                                <?= $this->url(array(
                                    'controller' => 'user',
                                    'action' => 'delete',
                                    'username' => $profile->username
                                ), 'default', true); ?>
                                ">Cancella</a>
                            </td>
                        </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>

        </div>
    </div>
</div>